package com.bayviewglen.horses;                                                                                                                                                                                       
                                                                                                                                                                                                                           
import java.io.File;                                                                                                                                                                                                       
import java.io.FileNotFoundException;                                                                                                                                                                                      
import java.io.FileWriter;                                                                                                                                                                                                 
import java.io.IOException;                                                                                                                                                                                                
import java.util.Scanner;                                                                                                                                                                                                  
                                                                                                                                                                                                                           
public class Racing {                                                                                                                                                                                                      
    public static void main(String[] args) {                                                                                                                                                                               
        Scanner keyboard = new Scanner(System.in);                                                                                                                                                                         
        /*                                                                                                                                                                                                                 
         * Greeting and initial declaration of variables.                                                                                                                                                                  
         */                                                                                                                                                                                                                
        System.out.println("Hello and welcome to horse raceing!\n\nPlayers:\n");                                                                                                                                           
        boolean Play = true;                                                                                                                                                                                               
        boolean readPlayersFiles = false;                                                                                                                                                                                  
        while (Play) {                                                                                                                                                                                                     
            int[] numHorses = new int[1];                                                                                                                                                                                  
            int[] numPlayers = new int[1];                                                                                                                                                                                 
            findAmountOfPlayers(numPlayers);                                                                                                                                                                               
            String[] players = new String[numPlayers[0]];                                                                                                                                                                  
            int[] playersWallets = new int[numPlayers[0]];                                                                                                                                                                 
            String[] horses = getHorses(numHorses);                                                                                                                                                                        
                                                                                                                                                                                                                           
            String[] horse = chooseRacingHorses(numHorses, horses);                                                                                                                                                        
            int[] playersBets = new int[numPlayers[0]];                                                                                                                                                                    
            int[] playersHorses = new int[numPlayers[0]];                                                                                                                                                                  
            for (int i: playersHorses) {                                                                                                                                                                                   
                playersHorses[i] = 6;                                                                                                                                                                                      
            }                                                                                                                                                                                                              
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
            /*                                                                                                                                                                                                             
             * Loop for players bet                                                                                                                                                                                        
             */                                                                                                                                                                                                            
                                                                                                                                                                                                                           
            boolean doneBetting = false;                                                                                                                                                                                   
            boolean addFunds = true;                                                                                                                                                                                       
            while (!doneBetting) {                                                                                                                                                                                         
                                                                                                                                                                                                                           
                boolean playersOnScreen = false;                                                                                                                                                                           
                if (!readPlayersFiles) {                                                                                                                                                                                   
                    readPlayersFiles = displayPlayers(keyboard, numPlayers, players, playersWallets, readPlayersFiles);                                                                                                    
                    playersOnScreen = true;                                                                                                                                                                                
                                                                                                                                                                                                                           
                }                                                                                                                                                                                                          
                updateFile(numPlayers, players, playersWallets, keyboard, playersOnScreen, addFunds);                                                                                                                      
                boolean validPlayer = false;                                                                                                                                                                               
                while (!validPlayer) {                                                                                                                                                                                     
                    readPlayersFiles = displayPlayers(keyboard, numPlayers, players, playersWallets, readPlayersFiles);                                                                                                    
                    System.out.print("\nChoose Player to bet (0 for done):");                                                                                                                                              
                    String playerTemp = keyboard.nextLine();                                                                                                                                                               
                    int player = 0;                                                                                                                                                                                        
                    try {                                                                                                                                                                                                  
                        player = Integer.parseInt(playerTemp) - 1;                                                                                                                                                         
                        if (player == -1) {                                                                                                                                                                                
                            doneBetting = true;                                                                                                                                                                            
                            validPlayer = true;                                                                                                                                                                            
                        } else if (player > numPlayers[0] - 1 || player < -1) {                                                                                                                                            
                            System.out.println((player + 1) + " is not a Player.");                                                                                                                                        
                        } else {                                                                                                                                                                                           
                            System.out.println("\n\n\nOk " + players[player]);                                                                                                                                             
                            displayHorses(horse);                                                                                                                                                                          
                            getHorse(player, playersHorses, keyboard);                                                                                                                                                     
                            getBet(keyboard, playersBets, player, horse, playersHorses, playersWallets);                                                                                                                   
                            playersWallets[player] -= playersBets[player];                                                                                                                                                 
                                                                                                                                                                                                                           
                            validPlayer = true;                                                                                                                                                                            
                        }                                                                                                                                                                                                  
                    } catch (NumberFormatException e) {                                                                                                                                                                    
                        System.out.println(playerTemp + " is not a Player.");                                                                                                                                              
                    }                                                                                                                                                                                                      
                    addFunds = false;                                                                                                                                                                                      
                }                                                                                                                                                                                                          
                                                                                                                                                                                                                           
            }                                                                                                                                                                                                              
            /*                                                                                                                                                                                                             
             * Ask user if they want to race of save and exit                                                                                                                                                              
             */                                                                                                                                                                                                            
            boolean race = raceOrSave(keyboard);                                                                                                                                                                           
            if (race) {                                                                                                                                                                                                    
            	/*                                                                                                                                                                                                         
            	 * Race loop                                                                                                                                                                                               
            	 */                                                                                                                                                                                                        
                int winningHorse = race(numHorses, horses, horse);                                                                                                                                                         
                for (int i = 0; i < numPlayers[0]; i++) {                                                                                                                                                                  
                    if (winningHorse == playersHorses[i]) {                                                                                                                                                                
                        System.out.println(players[i] + " wins $" + playersBets[i] + "!!!!");                                                                                                                              
                        playersWallets[i] += (playersBets[i] * 2);                                                                                                                                                         
                    }                                                                                                                                                                                                      
                }                                                                                                                                                                                                          
                readPlayersFiles = false;                                                                                                                                                                                  
            } else {                                                                                                                                                                                                       
            	/*                                                                                                                                                                                                         
            	 * Save and exit                                                                                                                                                                                           
            	 */                                                                                                                                                                                                        
                addFunds = true;                                                                                                                                                                                           
                boolean playersOnScreen = false;                                                                                                                                                                           
                updateFile(numPlayers, players, playersWallets, keyboard, playersOnScreen, addFunds);                                                                                                                      
                Play = false;                                                                                                                                                                                              
            }                                                                                                                                                                                                              
                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                  
    }                                                                                                                                                                                                                      
/*                                                                                                                                                                                                                         
 * Method to update file                                                                                                                                                                                                   
 */                                                                                                                                                                                                                        
    private static void updateFile(int[] numPlayers, String[] players, int[] playersWallets, Scanner keyboard, boolean playersOnScreen, boolean addFunds) {                                                                
        FileWriter writer;                                                                                                                                                                                                 
                                                                                                                                                                                                                           
        try {                                                                                                                                                                                                              
            writer = new FileWriter(new File("input/players.dat"));                                                                                                                                                        
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
            boolean done = false;                                                                                                                                                                                          
            while (!done) {                                                                                                                                                                                                
            	// Find out if there are players currently displayed to the screen                                                                                                                                         
                if (!playersOnScreen) {                                                                                                                                                                                    
                    displayPlayersNoRead(numPlayers, players, playersWallets);                                                                                                                                             
                }                                                                                                                                                                                                          
                // Add funds                                                                                                                                                                                               
                System.out.println("\n\nWould any players like to add funds to thier account? (Insert player number, 0 for done)");                                                                                        
                String player = keyboard.nextLine();                                                                                                                                                                       
                                                                                                                                                                                                                           
                try {                                                                                                                                                                                                      
                    if (Integer.parseInt(player) > numPlayers[0] || Integer.parseInt(player) < 0) {                                                                                                                        
                        System.out.println(player + " Does not correspont to a player");                                                                                                                                   
                    } else if (Integer.parseInt(player) == 0) {                                                                                                                                                            
                        done = true;                                                                                                                                                                                       
                    } else {                                                                                                                                                                                               
                        boolean validAmount = false;                                                                                                                                                                       
                        while (!validAmount) {                                                                                                                                                                             
                            System.out.println("How much money is " + players[Integer.parseInt(player) - 1] + " adding?");                                                                                                 
                            String temp1 = keyboard.nextLine();                                                                                                                                                            
                            try {                                                                                                                                                                                          
                                int temp = Integer.parseInt(temp1);                                                                                                                                                        
                                playersWallets[Integer.parseInt(player) - 1] += temp;                                                                                                                                      
                                validAmount = true;                                                                                                                                                                        
                            } catch (NumberFormatException e) {                                                                                                                                                            
                                System.out.println("Or-nah");                                                                                                                                                              
                            }                                                                                                                                                                                              
                        }                                                                                                                                                                                                  
                    }                                                                                                                                                                                                      
                                                                                                                                                                                                                           
                } catch (NumberFormatException e) {                                                                                                                                                                        
                    System.out.println("That does not correspond to a player!");                                                                                                                                           
                }                                                                                                                                                                                                          
            }                                                                                                                                                                                                              
            //Write the current players and wallet amounts to file "players.dat"                                                                                                                                           
            writer.write(numPlayers[0] + "\n");                                                                                                                                                                            
            for (int i = 0; i < numPlayers[0]; i++) {                                                                                                                                                                      
                writer.write(players[i] + " " + playersWallets[i] + "\n");                                                                                                                                                 
            }                                                                                                                                                                                                              
            writer.close();                                                                                                                                                                                                
        } catch (IOException e) {                                                                                                                                                                                          
            // TODO Auto-generated catch block                                                                                                                                                                             
            e.printStackTrace();                                                                                                                                                                                           
        }                                                                                                                                                                                                                  
                                                                                                                                                                                                                           
    }                                                                                                                                                                                                                      
                                                                                                                                                                                                                           
    /*                                                                                                                                                                                                                     
     * Display players without reading file                                                                                                                                                                                
     */                                                                                                                                                                                                                    
    private static void displayPlayersNoRead(int[] numPlayers, String[] players, int[] playersWallets) {                                                                                                                   
                                                                                                                                                                                                                           
        System.out.println("________________________________________________________");                                                                                                                                    
        for (int i = -1; i < numPlayers[0]; i++) {                                                                                                                                                                         
            if (i != -1) {                                                                                                                                                                                                 
                System.out.println("--------------------------------------------------------");                                                                                                                            
            }                                                                                                                                                                                                              
            if (i == -1) {                                                                                                                                                                                                 
                System.out.printf("%1s%1s%26s%1s%26s%1s", "#", "|", "Players Name", "|", "Wallet Amount", "|");                                                                                                            
                System.out.println();                                                                                                                                                                                      
            } else {                                                                                                                                                                                                       
                System.out.printf("%1s%1s%26s%1s%26s%1s", i + 1, "|", players[i], "|", playersWallets[i], "|");                                                                                                            
                System.out.println();                                                                                                                                                                                      
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
            }                                                                                                                                                                                                              
        }                                                                                                                                                                                                                  
        System.out.println("________________________________________________________");                                                                                                                                    
    }                                                                                                                                                                                                                      
                                                                                                                                                                                                                           
    /*                                                                                                                                                                                                                     
     * Method for race                                                                                                                                                                                                     
     */                                                                                                                                                                                                                    
    private static int race(int[] numHorses, String[] horses, String[] horse) {                                                                                                                                            
        boolean win = false;                                                                                                                                                                                               
        int[] spaces = new int[horse.length];                                                                                                                                                                              
        String winner = "";                                                                                                                                                                                                
        int winnerId = 0;                                                                                                                                                                                                  
        boolean theresAWinner = false;                                                                                                                                                                                     
        while (!win) {                                                                                                                                                                                                     
            System.out.println("\n\n\n\n\n\n\n\n\n\n");                                                                                                                                                                    
            try {                                                                                                                                                                                                          
                Thread.sleep(100); //3000 milliseconds is three seconds.                                                                                                                                                   
            } catch (InterruptedException ex) {                                                                                                                                                                            
                Thread.currentThread().interrupt();                                                                                                                                                                        
            }                                                                                                                                                                                                              
            System.out.println("__________________________________________________________________________________________________________________________________________________________________________");              
            for (int i = 0; i < horse.length; i++) {                                                                                                                                                                       
                System.out.printf("%20s%1s", horse[i], "|");                                                                                                                                                               
                                                                                                                                                                                                                           
                spaces[i] += (int)(Math.random() * 2 + 1);                                                                                                                                                                 
                for (int j = 0; j < spaces[i]; j++) {                                                                                                                                                                      
                    System.out.print(" ");                                                                                                                                                                                 
                }                                                                                                                                                                                                          
                System.out.print(i);                                                                                                                                                                                       
                for (int j = 0; j < (149 - spaces[i]); j++) {                                                                                                                                                              
                    System.out.print(" ");                                                                                                                                                                                 
                }                                                                                                                                                                                                          
                System.out.println("\n__________________________________________________________________________________________________________________________________________________________________________");        
                if (spaces[i] >= 149) {                                                                                                                                                                                    
                    theresAWinner = true;                                                                                                                                                                                  
                    winner = horse[i];                                                                                                                                                                                     
                    winnerId = i;                                                                                                                                                                                          
                }                                                                                                                                                                                                          
                if (i == horse.length - 1 && theresAWinner) {                                                                                                                                                              
                    win = true;                                                                                                                                                                                            
                }                                                                                                                                                                                                          
            }                                                                                                                                                                                                              
        }                                                                                                                                                                                                                  
        System.out.println("\n\n\n" + winner + " wins!");                                                                                                                                                                  
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
      return winnerId;                                                                                                                                                                                                     
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
    }                                                                                                                                                                                                                      
  /*                                                                                                                                                                                                                       
   * Asks player if they want to race or save                                                                                                                                                                              
   */                                                                                                                                                                                                                      
    private static boolean raceOrSave(Scanner keyboard) {                                                                                                                                                                  
        boolean validInput = false;                                                                                                                                                                                        
        while (!validInput) {                                                                                                                                                                                              
            System.out.println("1.Race or 2.Save and Exit?");                                                                                                                                                              
            String tempRace = keyboard.nextLine();                                                                                                                                                                         
            try {                                                                                                                                                                                                          
                if (Integer.parseInt(tempRace) > 2 || Integer.parseInt(tempRace) < 1) {                                                                                                                                    
                                                                                                                                                                                                                           
                } else if (Integer.parseInt(tempRace) == 1) {                                                                                                                                                              
                    validInput = true;                                                                                                                                                                                     
                    return true;                                                                                                                                                                                           
                                                                                                                                                                                                                           
                } else {                                                                                                                                                                                                   
                    validInput = true;                                                                                                                                                                                     
                    return false;                                                                                                                                                                                          
                }                                                                                                                                                                                                          
            } catch (NumberFormatException e) {                                                                                                                                                                            
                System.out.println(tempRace + " is not valid.");                                                                                                                                                           
            }                                                                                                                                                                                                              
        }                                                                                                                                                                                                                  
        return validInput;                                                                                                                                                                                                 
    }                                                                                                                                                                                                                      
    /*                                                                                                                                                                                                                     
     * Finds out what player wants to bet                                                                                                                                                                                  
     */                                                                                                                                                                                                                    
    private static void getBet(Scanner keyboard, int[] playersBets, int player, String[] horse, int[] playersHorses, int[] playersWallets) {                                                                               
        boolean validBet = false;                                                                                                                                                                                          
        while (!validBet) {                                                                                                                                                                                                
            System.out.println("How much do you want to bet on " + horse[playersHorses[player]] + "?\n\n");                                                                                                                
            String tempBet = keyboard.nextLine();                                                                                                                                                                          
            try {                                                                                                                                                                                                          
                playersBets[player] = Integer.parseInt(tempBet);                                                                                                                                                           
                if (playersBets[player] > playersWallets[player] || playersBets[player] < 1) {                                                                                                                             
                    validBet = false;                                                                                                                                                                                      
                    System.out.println("Not a Valid Bet!\n\n");                                                                                                                                                            
                } else {                                                                                                                                                                                                   
                    validBet = true;                                                                                                                                                                                       
                }                                                                                                                                                                                                          
            } catch (NumberFormatException e) {                                                                                                                                                                            
                System.out.println(tempBet + " is not valid.");                                                                                                                                                            
            }                                                                                                                                                                                                              
        }                                                                                                                                                                                                                  
                                                                                                                                                                                                                           
    }                                                                                                                                                                                                                      
    /*                                                                                                                                                                                                                     
     * Finds out what horse player wants to bet on                                                                                                                                                                         
     */                                                                                                                                                                                                                    
    private static void getHorse(int player, int[] playersHorses, Scanner keyboard) {                                                                                                                                      
        boolean validHorse = false;                                                                                                                                                                                        
        while (!validHorse) {                                                                                                                                                                                              
            System.out.println("\nWhat horse are you betting on?");                                                                                                                                                        
            String tempHorse = keyboard.nextLine();                                                                                                                                                                        
            try {                                                                                                                                                                                                          
                playersHorses[player] = Integer.parseInt(tempHorse) - 1;                                                                                                                                                   
                if (playersHorses[player] > 5 || playersHorses[player] < 0) {                                                                                                                                              
                    System.out.println((playersHorses[player] + 1) + " is not a Horse.");                                                                                                                                  
                } else {                                                                                                                                                                                                   
                    validHorse = true;                                                                                                                                                                                     
                }                                                                                                                                                                                                          
                                                                                                                                                                                                                           
            } catch (NumberFormatException e) {                                                                                                                                                                            
                System.out.println(tempHorse + " is not a Horse.");                                                                                                                                                        
            }                                                                                                                                                                                                              
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                  
                                                                                                                                                                                                                           
    }                                                                                                                                                                                                                      
                                                                                                                                                                                                                           
    /*                                                                                                                                                                                                                     
     * Displays horses                                                                                                                                                                                                     
     */                                                                                                                                                                                                                    
    private static void displayHorses(String[] horse) {                                                                                                                                                                    
        System.out.println("________________________________________________________");                                                                                                                                    
        int j = 0;                                                                                                                                                                                                         
        for (int i = 0; i < 7; i++) {                                                                                                                                                                                      
            if (i != 0) {                                                                                                                                                                                                  
                System.out.println("--------------------------------------------------------");                                                                                                                            
            }                                                                                                                                                                                                              
            if (i == 0) {                                                                                                                                                                                                  
                System.out.printf("%1s%1s%52s%1s", "#", "|", "Horse Name", "|");                                                                                                                                           
                System.out.println();                                                                                                                                                                                      
            } else {                                                                                                                                                                                                       
                System.out.printf("%1s%1s%52s%1s", i, "|", horse[i - 1], "|");                                                                                                                                             
                System.out.println();                                                                                                                                                                                      
            }                                                                                                                                                                                                              
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                  
        System.out.println("--------------------------------------------------------");                                                                                                                                    
                                                                                                                                                                                                                           
    }                                                                                                                                                                                                                      
                                                                                                                                                                                                                           
    /*                                                                                                                                                                                                                     
     * Chooses which horse will race                                                                                                                                                                                       
     */                                                                                                                                                                                                                    
                                                                                                                                                                                                                           
    private static String[] chooseRacingHorses(int[] numHorses, String[] horses) {                                                                                                                                         
        // TODO Choose the horses that will race.                                                                                                                                                                          
        String[] horseRaces = new String[6];                                                                                                                                                                               
        boolean inRace = false;                                                                                                                                                                                            
        for (int i = 0; i < 6; i++) {                                                                                                                                                                                      
            int horse = (int)(Math.random() * numHorses[0]);                                                                                                                                                               
            if (horseRaces[0] != null) {                                                                                                                                                                                   
                inRace = alreadyInRace(horses[horse], horseRaces);                                                                                                                                                         
            }                                                                                                                                                                                                              
            if (!inRace) {                                                                                                                                                                                                 
                horseRaces[i] = horses[horse];                                                                                                                                                                             
            } else {                                                                                                                                                                                                       
                i--;                                                                                                                                                                                                       
            }                                                                                                                                                                                                              
        }                                                                                                                                                                                                                  
        return horseRaces;                                                                                                                                                                                                 
    }                                                                                                                                                                                                                      
                                                                                                                                                                                                                           
    /*                                                                                                                                                                                                                     
     * Finds the amount of players that will be playing by reading the first line of the file                                                                                                                              
     */                                                                                                                                                                                                                    
                                                                                                                                                                                                                           
    private static void findAmountOfPlayers(int[] numPlayers) {                                                                                                                                                            
        try {                                                                                                                                                                                                              
            Scanner scanner = new Scanner(new File("input/players.dat"));                                                                                                                                                  
            numPlayers[0] = Integer.parseInt(scanner.nextLine());                                                                                                                                                          
        } catch (FileNotFoundException e) {                                                                                                                                                                                
            e.printStackTrace();                                                                                                                                                                                           
        }                                                                                                                                                                                                                  
                                                                                                                                                                                                                           
    }                                                                                                                                                                                                                      
    /*                                                                                                                                                                                                                     
     * Displays the players                                                                                                                                                                                                
     */                                                                                                                                                                                                                    
                                                                                                                                                                                                                           
    private static boolean displayPlayers(Scanner keyboard, int[] numPlayers, String[] players, int[] playersWallets, boolean readPlayersFiles) {                                                                          
        try {                                                                                                                                                                                                              
            Scanner scanner = new Scanner(new File("input/players.dat"));                                                                                                                                                  
            numPlayers[0] = Integer.parseInt(scanner.nextLine());                                                                                                                                                          
            System.out.println("________________________________________________________");                                                                                                                                
            int j = 0;                                                                                                                                                                                                     
            for (int i = 0; i < numPlayers[0] + 1; i++) {                                                                                                                                                                  
                if (i != 0) {                                                                                                                                                                                              
                    System.out.println("--------------------------------------------------------");                                                                                                                        
                }                                                                                                                                                                                                          
                if (!readPlayersFiles) {                                                                                                                                                                                   
                    if (i == 0) {                                                                                                                                                                                          
                        System.out.printf("%1s%1s%26s%1s%26s%1s", "#", "|", "Players Name", "|", "Wallet Amount", "|");                                                                                                    
                        System.out.println();                                                                                                                                                                              
                    } else {                                                                                                                                                                                               
                        String[] tempPlayers = (scanner.nextLine()).split(" ");                                                                                                                                            
                        System.out.printf("%1s%1s%26s%1s%26s%1s", i, "|", tempPlayers[0], "|", tempPlayers[1], "|");                                                                                                       
                        System.out.println();                                                                                                                                                                              
                        players[i - 1] = tempPlayers[0];                                                                                                                                                                   
                        playersWallets[i - 1] = Integer.parseInt(tempPlayers[1]);                                                                                                                                          
                                                                                                                                                                                                                           
                    }                                                                                                                                                                                                      
                } else {                                                                                                                                                                                                   
                    if (i == 0) {                                                                                                                                                                                          
                        System.out.printf("%1s%1s%26s%1s%26s%1s", "#", "|", "Players Name", "|", "Wallet Amount", "|");                                                                                                    
                        System.out.println();                                                                                                                                                                              
                    } else {                                                                                                                                                                                               
                        String[] tempPlayers = (scanner.nextLine()).split(" ");                                                                                                                                            
                        System.out.printf("%1s%1s%26s%1s%26s%1s", i, "|", tempPlayers[0], "|", playersWallets[i - 1], "|");                                                                                                
                        System.out.println();                                                                                                                                                                              
                        players[i - 1] = tempPlayers[0];                                                                                                                                                                   
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
                    }                                                                                                                                                                                                      
                }                                                                                                                                                                                                          
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
            }                                                                                                                                                                                                              
            System.out.println("--------------------------------------------------------");                                                                                                                                
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
        } catch (FileNotFoundException e) {                                                                                                                                                                                
            // TODO Auto-generated catch block                                                                                                                                                                             
            e.printStackTrace();                                                                                                                                                                                           
        }                                                                                                                                                                                                                  
        return true;                                                                                                                                                                                                       
                                                                                                                                                                                                                           
    }                                                                                                                                                                                                                      
                                                                                                                                                                                                                           
    /*                                                                                                                                                                                                                     
     * Reads the horses from a file assume the file exists and is in the format specified in the                                                                                                                           
     * assignment.                                                                                                                                                                                                         
     */                                                                                                                                                                                                                    
    public static String[] getHorses(int[] numHorses) {                                                                                                                                                                    
        String[] horses = null;                                                                                                                                                                                            
        try {                                                                                                                                                                                                              
            Scanner scanner = new Scanner(new File("input/horseData.dat"));                                                                                                                                                
            numHorses[0] = Integer.parseInt(scanner.nextLine());                                                                                                                                                           
            horses = new String[numHorses[0]];                                                                                                                                                                             
                                                                                                                                                                                                                           
            for (int i = 0; i < numHorses[0]; i++) {                                                                                                                                                                       
                horses[i] = scanner.nextLine();                                                                                                                                                                            
            }                                                                                                                                                                                                              
                                                                                                                                                                                                                           
                                                                                                                                                                                                                           
        } catch (FileNotFoundException e) {                                                                                                                                                                                
            // TODO Auto-generated catch block                                                                                                                                                                             
            e.printStackTrace();                                                                                                                                                                                           
        }                                                                                                                                                                                                                  
                                                                                                                                                                                                                           
        return horses;                                                                                                                                                                                                     
    }                                                                                                                                                                                                                      
	                                                                                                                                                                                                                       
    /*                                                                                                                                                                                                                     
     * Check if a horse is already in the race - uses a modified search method                                                                                                                                             
     */                                                                                                                                                                                                                    
    public static boolean alreadyInRace(String horse, String[] horsesInRace) {                                                                                                                                             
                                                                                                                                                                                                                           
        for (int i = 0; i < horsesInRace.length; i++) {                                                                                                                                                                    
            if (horsesInRace[i] == null) {                                                                                                                                                                                 
                i += horsesInRace.length;                                                                                                                                                                                  
                return false;                                                                                                                                                                                              
            }                                                                                                                                                                                                              
            if (horsesInRace[i].equalsIgnoreCase(horse)) {                                                                                                                                                                 
                return true;                                                                                                                                                                                               
            }                                                                                                                                                                                                              
        }                                                                                                                                                                                                                  
                                                                                                                                                                                                                           
        return false;                                                                                                                                                                                                      
    }                                                                                                                                                                                                                      
}                                                                                                                                                                                                                          